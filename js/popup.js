var arrayBuffer,soundMenu;let showLogo=document.querySelector("input#showLogo"),formModo=document.querySelectorAll("input[name='modoApp']");const audioContext=new(window.AudioContext||window.webkitAudioContext()),storage="undefined"!=typeof browser&&browser.storage?browser.storage:chrome.storage;function playMenu(){let o=audioContext.createBufferSource(),e=audioContext.createGain();e.gain.value=.1,o.connect(e),e.connect(audioContext.destination),o.loop=!1,o.buffer=soundMenu,o.start(0),o.onended=()=>{o.stop()}}fetch("sound/riders/menu_confirm.wav").then(o=>o.arrayBuffer()).then(o=>{audioContext.decodeAudioData(o).then(o=>soundMenu=o)}),//! ConfiguraciÃ³n predeterminada
storage.sync.get({modoApp:"Sonic",isLogoActive:!0,globalConfig:{videoSD:"video/kingdom_low.mp4",videoHD:"video/kingdom3.mp4",soundStart:"sound/sonic/press_start.wav"},ridersColor:{red:0,green:0,blue:0,alpha:0},ridersTurn:"0"},async function(o){let e=o.modoApp,t=o.isLogoActive;showLogo.value=showLogo.checked=t,formModo.forEach(o=>{o.addEventListener("change",function(){switch(storage.sync.set({modoApp:this.value}),playMenu(),formModo.forEach(o=>{o.removeAttribute("checked"),o.classList.remove("startBlink")}),o.setAttribute("checked",!0),this.classList.add("startBlink"),this.value){case"Sonic":storage.sync.set({globalConfig:{videoSD:"video/kingdom_low.mp4",videoHD:"video/kingdom3.mp4",soundStart:"sound/sonic/press_start.wav"}});break;case"Shadow":storage.sync.set({globalConfig:{videoSD:"video/radicalhighway_low.mp4",videoHD:"video/radicalhighway.mp4",soundStart:"sound/shadow/press_start.wav"}});break;case"Riders":storage.sync.set({globalConfig:{videoSD:"None",videoHD:"None",soundStart:"sound/riders/gravityDive.ogg"}})}}),o.removeAttribute("checked"),o.value==e&&o.setAttribute("checked",!0)}),showLogo.addEventListener("change",()=>{t=!t,storage.sync.set({isLogoActive:t})})});